<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head') %>
    <!-- Local CSS -->
    <link rel="stylesheet" href="/stylesheets/module.css" />
    <link rel="stylesheet" href="/stylesheets/profile.css" />
    <title>noCapReviews</title>
  </head>
  <body class="container-sm mb-5">
    <%- include('../partials/navbar') %> <%- include('../partials/flash') %>
    <div class="row">
      <div class="card text-center bg-dark col-lg-6 offset-lg-3 p-4">
        <div class="card-body">
          <img
            class="mb-3"
            src="https://static-cdn.jtvnw.net/emoticons/v1/301311317/3.0"
            alt="mizkifSit"
          />
          <div class="card-title text-light h2 mb-3" id="edit">
            Edit Profile
          </div>
          <form
            class="validated-form"
            action="/user/profile?_method=PUT"
            method="POST"
            novalidate
          >
            <input
              type="hidden"
              name="user[_id]"
              value="<%= currentUser._id %>"
            />
            <div class="form-floating my-3">
              <input
                class="form-control"
                type="text"
                id="username"
                name="user[username]"
                placeholder="Username"
                value="<%= currentUser.username %>"
                readonly
                required
              />
              <label class="form-label text-dark" for="username"
                >Username</label
              >
              <div class="invalid-feedback">Please type a username.</div>
            </div>
            <div class="form-floating my-3">
              <input
                class="form-control"
                list="listOfMajors"
                name="user[major]"
                id="major"
                placeholder="Type to search.."
                value="<%= currentUser.major %> "
                required
              />
              <label class="form-label text-dark" for="major">Major</label>
              <datalist id="listOfMajors">
                <% for (major of majors) { %>
                <option value="<%= major %>"></option>
                <% } %>
              </datalist>
              <div class="invalid-feedback">
                Please choose your current major
              </div>
            </div>
            <div class="d-grid">
              <button type="submit" class="btn btn-primary">
                Update Major
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>
    <!-- Local Scripts -->
    <script src="/scripts/validate.js"></script>
  </body>
</html>
